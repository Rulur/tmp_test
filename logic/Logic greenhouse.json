{
  "version": 1,
  "origin": "dev.rightech.io",
  "time": "2020-10-21T08:41:37.694Z",
  "user": "5f4752b4d02b7a5e348e0fed",
  "group": "5f4752b4d02b7ae8f38e0feb",
  "store": "automatons",
  "data": {
    "_id": "5f3e379044b4765b79e2e794",
    "name": "Logic greenhouse",
    "models": [
      "5f3e374944b4765c5de2e746"
    ],
    "description": "Watering system",
    "model": "5f3e374944b4765c5de2e746",
    "data": "{\"states\":{\"initial\":{\"data\":{\"type\":\"init\",\"id\":\"initial\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":100,\"left\":80}},\"final\":{\"data\":{\"type\":\"final\",\"id\":\"final\",\"width\":20,\"height\":20,\"onenter\":[],\"onexit\":[]},\"position\":{\"top\":40,\"left\":1240}},\"first\":{\"data\":{\"type\":\"state\",\"id\":\"first\",\"name\":\"Start state\",\"description\":\"\",\"onenter\":[{\"id\":\"schedule-timer#1-start\",\"name\":\"Start scheduler #1\",\"args\":{\"period\":{\"id\":\"period\",\"dataType\":\"schedule\",\"value\":{\"hour\":[10],\"tz\":3,\"minute\":[0]}}}},{\"id\":\"watering_off\",\"name\":\"Stop watering\",\"args\":{}},{\"id\":\"send-push-message\",\"name\":\"Message to operator\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"information\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Wait sheduler\"}}}],\"onexit\":[],\"width\":280,\"height\":180},\"position\":{\"top\":240,\"left\":400}},\"kar28hzl\":{\"data\":{\"type\":\"state\",\"id\":\"kar28hzl\",\"name\":\"Watering\",\"description\":\"Watering by sheduler\",\"onenter\":[{\"id\":\"Watering_on\",\"name\":\"Start watering\",\"args\":{}},{\"id\":\"timer#1-start\",\"name\":\"Start timer #1\",\"args\":{\"interval\":{\"id\":\"interval\",\"dataType\":\"type:number min:0.01 value:1\",\"value\":30}}},{\"id\":\"send-push-message\",\"name\":\"Message to operator\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"information\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Watering started\"}}}],\"height\":140,\"width\":220,\"onexit\":[]},\"position\":{\"top\":440,\"left\":40}},\"kar2iy0y\":{\"data\":{\"type\":\"state\",\"id\":\"kar2iy0y\",\"name\":\"Unplanned watering\",\"description\":\"Start when air temperature > 30 and soil moisture < 30\",\"onenter\":[{\"id\":\"send-push-message\",\"name\":\"Message to operator\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"important\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Unplanned watering\"}}},{\"id\":\"timer#1-start\",\"name\":\"Start timer #1\",\"args\":{\"interval\":{\"id\":\"interval\",\"dataType\":\"type:number min:0.01 value:1\",\"value\":10}}},{\"id\":\"Watering_on\",\"name\":\"Start watering\",\"args\":{}}],\"height\":140,\"width\":220,\"onexit\":[]},\"position\":{\"top\":660,\"left\":480}},\"kar2iyl5\":{\"data\":{\"type\":\"state\",\"id\":\"kar2iyl5\",\"name\":\"Empty water tank\",\"description\":\"\",\"height\":140,\"width\":220,\"onenter\":[{\"id\":\"send-push-message\",\"name\":\"Message to operator\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"important\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Water tank is empty\"}}}],\"onexit\":[]},\"position\":{\"top\":40,\"left\":600}},\"kar2vjs2\":{\"data\":{\"type\":\"state\",\"id\":\"kar2vjs2\",\"name\":\"Low water temperature\",\"description\":\"The water temperature is too low\",\"onenter\":[{\"id\":\"Water_heating_on\",\"name\":\"Start heating water\",\"args\":{}},{\"id\":\"send-push-message\",\"name\":\"Message to operator\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\",\"value\":\"information\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Water heating on\"}}}],\"height\":200,\"width\":240,\"onexit\":[{\"id\":\"Water_heating_off\",\"name\":\"Stop heating water\",\"args\":{}},{\"id\":\"send-push-message\",\"name\":\"Message to operator\",\"args\":{\"importance\":{\"id\":\"importance\",\"dataType\":\"type:option, options:[information,important,critical]\"},\"message-body\":{\"id\":\"message-body\",\"dataType\":\"text\",\"value\":\"Water heating off\"}}}]},\"position\":{\"top\":440,\"left\":940}}},\"transitions\":{\"0\":{\"drawMode\":\"rou\",\"points\":[{\"x\":100,\"y\":100},{\"x\":160,\"y\":100},{\"x\":160,\"y\":100},{\"x\":220,\"y\":100},{\"x\":220,\"y\":160},{\"x\":420,\"y\":160},{\"x\":420,\"y\":220}],\"data\":{\"id\":\"0\",\"name\":\"Initialization of logic\",\"description\":\"The event at the start of interpritation of logic model\",\"event\":\"init\",\"owner\":{\"id\":\"initial\",\"point\":{\"location\":\"right\",\"id\":0}},\"target\":{\"id\":\"first\",\"point\":{\"location\":\"top\",\"id\":1}},\"blockKey\":\"cb-0\",\"targetIndex\":-1,\"autoDescription\":false,\"eventParameters\":{}},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"0\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"0\"],\"height\":6,\"width\":11,\"position\":{\"x\":6,\"y\":2}},\"key\":\"cb-0\"}},\"ke2kglci\":{\"drawMode\":\"rou\",\"points\":[{\"x\":380,\"y\":260},{\"x\":260,\"y\":260},{\"x\":260,\"y\":260},{\"x\":140,\"y\":260},{\"x\":140,\"y\":340},{\"x\":80,\"y\":340},{\"x\":80,\"y\":420}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":1,\"location\":\"left\"}},\"target\":{\"id\":\"kar28hzl\",\"point\":{\"id\":2,\"location\":\"top\"}},\"id\":\"ke2kglci\",\"blockKey\":\"cb-ke2kglci\",\"event\":\"schedule-timer#1-done\",\"name\":\"Scheduler #1 triggered\",\"eventParameters\":{},\"targetIndex\":-1,\"autoDescription\":true},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"ke2kglci\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"ke2kglci\"],\"width\":8,\"height\":3,\"position\":{\"x\":3,\"y\":12}},\"key\":\"cb-ke2kglci\"}},\"ke2ki7mp\":{\"drawMode\":\"rou\",\"points\":[{\"x\":260,\"y\":480},{\"x\":340,\"y\":480},{\"x\":340,\"y\":480},{\"x\":400,\"y\":480},{\"x\":440,\"y\":480},{\"x\":440,\"y\":460},{\"x\":440,\"y\":460},{\"x\":440,\"y\":420}],\"data\":{\"owner\":{\"id\":\"kar28hzl\",\"point\":{\"id\":2,\"location\":\"right\"}},\"target\":{\"id\":\"first\",\"point\":{\"id\":2,\"location\":\"bottom\"}},\"id\":\"ke2ki7mp\",\"blockKey\":\"cb-ke2ki7mp\",\"event\":\"es-control-timer#1-done\",\"name\":\"Timer #1 triggered\",\"eventParameters\":{},\"targetIndex\":-1,\"autoDescription\":true},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"ke2ki7mp\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"ke2ki7mp\"],\"width\":8,\"height\":3,\"position\":{\"x\":16,\"y\":23}},\"key\":\"cb-ke2ki7mp\"}},\"ke2kj37g\":{\"drawMode\":\"rou\",\"points\":[{\"x\":440,\"y\":220},{\"x\":440,\"y\":140},{\"x\":440,\"y\":140},{\"x\":440,\"y\":40},{\"x\":520,\"y\":40},{\"x\":520,\"y\":40},{\"x\":580,\"y\":40}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":2,\"location\":\"top\"}},\"target\":{\"id\":\"kar2iyl5\",\"point\":{\"id\":0,\"location\":\"left\"}},\"id\":\"ke2kj37g\",\"blockKey\":\"cb-ke2kj37g\",\"event\":\"es-recive-device-data\",\"name\":\"Data received\",\"eventParameters\":{},\"autoDescription\":true,\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"Empty_Tank_Water\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"true\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"equal\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"Empty_Tank_Water\\\"] == true\",\"targetIndex\":-1},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"ke2kj37g\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"ke2kj37g\"],\"width\":8,\"height\":3,\"position\":{\"x\":18,\"y\":1}},\"key\":\"cb-ke2kj37g\"}},\"ke2kmgtq\":{\"drawMode\":\"rou\",\"points\":[{\"x\":820,\"y\":80},{\"x\":960,\"y\":80},{\"x\":960,\"y\":140},{\"x\":1080,\"y\":140},{\"x\":1080,\"y\":280},{\"x\":1080,\"y\":280},{\"x\":1080,\"y\":420}],\"data\":{\"owner\":{\"id\":\"kar2iyl5\",\"point\":{\"id\":2,\"location\":\"right\"}},\"target\":{\"id\":\"kar2vjs2\",\"point\":{\"id\":7,\"location\":\"top\"}},\"id\":\"ke2kmgtq\",\"blockKey\":\"cb-ke2kmgtq\",\"event\":\"es-recive-device-data\",\"name\":\"Data received\",\"eventParameters\":{},\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"Empty_Tank_Water\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"false\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"equal\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"Empty_Tank_Water\\\"] == false\",\"targetIndex\":-1,\"autoDescription\":true},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"ke2kmgtq\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"ke2kmgtq\"],\"width\":8,\"height\":3,\"position\":{\"x\":50,\"y\":6}},\"key\":\"cb-ke2kmgtq\"}},\"ke2kq6ec\":{\"drawMode\":\"rou\",\"points\":[{\"x\":920,\"y\":580},{\"x\":860,\"y\":580},{\"x\":860,\"y\":420},{\"x\":800,\"y\":420},{\"x\":740,\"y\":420},{\"x\":740,\"y\":300},{\"x\":680,\"y\":300}],\"data\":{\"owner\":{\"id\":\"kar2vjs2\",\"point\":{\"id\":7,\"location\":\"left\"}},\"target\":{\"id\":\"first\",\"point\":{\"id\":3,\"location\":\"right\"}},\"id\":\"ke2kq6ec\",\"blockKey\":\"cb-ke2kq6ec\",\"event\":\"es-recive-device-data\",\"name\":\"Data received\",\"eventParameters\":{},\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"temp_Water\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"19\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"temp_Water\\\"] > 19\",\"targetIndex\":-1,\"autoDescription\":true},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"ke2kq6ec\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"ke2kq6ec\"],\"width\":8,\"height\":3,\"position\":{\"x\":36,\"y\":20}},\"key\":\"cb-ke2kq6ec\"}},\"ke2knyg9\":{\"drawMode\":\"rou\",\"points\":[{\"x\":680,\"y\":240},{\"x\":820,\"y\":240},{\"x\":820,\"y\":240},{\"x\":940,\"y\":240},{\"x\":940,\"y\":340},{\"x\":1000,\"y\":340},{\"x\":1000,\"y\":420}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":0,\"location\":\"right\"}},\"target\":{\"id\":\"kar2vjs2\",\"point\":{\"id\":3,\"location\":\"top\"}},\"id\":\"ke2knyg9\",\"blockKey\":\"cb-ke2knyg9\",\"event\":\"es-recive-device-data\",\"name\":\"Data received\",\"eventParameters\":{},\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"temp_Water\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"15\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"temp_Water\\\"] < 15\",\"targetIndex\":-1,\"autoDescription\":true},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"ke2knyg9\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"ke2knyg9\"],\"width\":8,\"height\":3,\"position\":{\"x\":43,\"y\":11}},\"key\":\"cb-ke2knyg9\"}},\"ke2kwenl\":{\"drawMode\":\"rou\",\"points\":[{\"x\":460,\"y\":700},{\"x\":420,\"y\":700},{\"x\":420,\"y\":580},{\"x\":420,\"y\":580},{\"x\":420,\"y\":540},{\"x\":420,\"y\":480},{\"x\":480,\"y\":480},{\"x\":480,\"y\":420}],\"data\":{\"owner\":{\"id\":\"kar2iy0y\",\"point\":{\"id\":2,\"location\":\"left\"}},\"target\":{\"id\":\"first\",\"point\":{\"id\":4,\"location\":\"bottom\"}},\"id\":\"ke2kwenl\",\"blockKey\":\"cb-ke2kwenl\",\"event\":\"es-control-timer#1-done\",\"name\":\"Timer #1 triggered\",\"eventParameters\":{},\"targetIndex\":-1,\"autoDescription\":true},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"ke2kwenl\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"ke2kwenl\"],\"width\":8,\"height\":3,\"position\":{\"x\":17,\"y\":26}},\"key\":\"cb-ke2kwenl\"}},\"ke2kuwqw\":{\"drawMode\":\"rou\",\"points\":[{\"x\":640,\"y\":420},{\"x\":640,\"y\":480},{\"x\":620,\"y\":480},{\"x\":620,\"y\":540},{\"x\":620,\"y\":600},{\"x\":620,\"y\":600},{\"x\":620,\"y\":640}],\"data\":{\"owner\":{\"id\":\"first\",\"point\":{\"id\":12,\"location\":\"bottom\"}},\"target\":{\"id\":\"kar2iy0y\",\"point\":{\"id\":7,\"location\":\"top\"}},\"id\":\"ke2kuwqw\",\"blockKey\":\"cb-ke2kuwqw\",\"event\":\"es-recive-device-data\",\"name\":\"Data received\",\"eventParameters\":{},\"condition\":\"{\\\"0\\\":{\\\"0\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"humidity_soil\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"30\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"less\\\"},\\\"type\\\":\\\"condition\\\"},\\\"1\\\":{\\\"0\\\":{\\\"data\\\":{\\\"type\\\":\\\"parametr\\\",\\\"arg\\\":\\\"temp_Air\\\",\\\"source\\\":\\\"state\\\",\\\"identifier\\\":\\\"object\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"1\\\":{\\\"data\\\":{\\\"arg\\\":\\\"30\\\",\\\"type\\\":\\\"value\\\"},\\\"type\\\":\\\"parametr\\\"},\\\"data\\\":{\\\"type\\\":\\\"more\\\"},\\\"type\\\":\\\"condition\\\"},\\\"data\\\":{\\\"type\\\":\\\"and\\\"},\\\"type\\\":\\\"condition\\\"}}\",\"userCode\":\"object[\\\"state\\\"][\\\"humidity_soil\\\"] < 30\\n && object[\\\"state\\\"][\\\"temp_Air\\\"] > 30\",\"targetIndex\":-1,\"autoDescription\":true},\"version\":3,\"block\":{\"data\":{\"type\":\"connectionBlock\",\"connectionKey\":\"ke2kuwqw\"},\"layout\":{\"minHeight\":2,\"minWidth\":6,\"movable\":true,\"resizable\":true,\"margin\":1,\"updateConnections\":[\"ke2kuwqw\"],\"width\":8,\"height\":3,\"position\":{\"x\":27,\"y\":26}},\"key\":\"cb-ke2kuwqw\"}}}}"
  }
}
